<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <meta content="Converts Dutch bank statements for YNAB" name="description">
    <meta content="Daniël Haitink" name="author">
    <link href="img/favicon.ico" rel="icon">

    <title>YNAB Going Dutch</title>

    <link href="css/YNAB.css" rel="stylesheet">
    <link href="css/notie.min.css" rel="stylesheet">
    <link href="css/fontawesome.min.css" rel="stylesheet">

    <script type="javascript">
        if (!(window.File && window.FileReader && window.FileList && window.Blob)) {
            alert("The File APIs are not fully supported in this browser. Please use a different browser");
        }
    </script>
</head>
<body>
<div class="banner-container">
    <div class="banner">WITH SYNC OPTION</div>
</div>

<header>
    <h1>YNAB Going Dutch</h1><br>
    <h3>Converts your Dutch bank statements from their CSV to YNAB CSV format</h3>
</header>


<div id="content">
    <div id="info">
        This tool is created to automatically convert your CSV bank files to a format that is used by <a
            href="https://youneedabudget.com">"You Need A Budget"</a>.
        <br><br>Your CSV will instantly download upon file selection.
        <br><br>
        <span class="highlight">NEW:</span> You can also configure this tool to synchronize directly with your YNAB
        account. Click on the options button in the upper right corner for more information.
        This function is still in BETA, use it at your own risk. If you run into problems, please create an issue at <a
            href="https://github.com/danielswrath/YNABGoingDutch/issues">Github</a>
    </div>

    <div id="drop-area">
        <input id="drop-input" multiple type="file">
        <div id="drop-text">
            Drop your files in here!<br>Or click here to select files
        </div>
    </div>

    <div id="supported">
        <h4>Supported Banks</h4>
        <p>Rabobank - ING - ASN Bank - SNS Bank - KNAB - bunq (both English and Dutch localization) - Triodos Bank</p>
        <p>For ABN AMRO support, visit the <a href="https://ynab-abn.danielhaitink.nl">YNABGoingDutch ABN AMRO
            edition</a></p>
    </div>
</div>

<div about="settings" alt="settings" id="settings-cog">
    <i class="fas fa-cog"></i>
</div>

<div id="ynab-settings">
    <i class="fas fa-times" id="ynab-settings-close"></i>
    <div id="settings-content">
        <h2>
            Settings (BETA)
        </h2>
        <p>
            <b>These settings are actively developed and tested. Use them at your own risk.</b>
        </p>
        <p>
            YNAB Going Dutch can automate the statement import for you. For this, you will need to generate a personal
            access token (PAT).
        </p>
        <p>
            Visit <a href="https://api.youneedabudget.com/#personal-access-tokens" target="_blank">this link</a> to find
            out how to generate a PAT in YNAB.
        </p>
        <p>
            When you have obtained a valid PAT, please paste it in the field below and click on the <i>test
            connection</i> button.
        </p>
        <div>
            <div>
                <label class="switch" for="auto-sync">
                    Sync with YNAB
                </label>
                <input id="auto-sync" type="checkbox">
            </div>
            <label for="pat"></label><input id="pat" placeholder="PAT" type="text">
            <input class="button-border" id="test-connection" name="test-connection" type="button"
                   value="Test connection">
            <input class="button-border" id="clear-pat" name="clear-pat" type="button" value="Clear PAT">
            <!--            <input id="export-settings" type="button" name="export-settings" value="Export settings">-->
            <!--            <input id="import-settings" type="button" name="import-settings" value="Import settings">-->
        </div>
        <div>
            <span class="hidden" id="pat-invalid">Failed to connect to YNAB. Are you sure your PAT is correct?</span>
        </div>
        <div id="ynab-connected">
            <h3>Success!</h3>
            <p>
                We have made a connection with your YNAB account! We have stored your PAT in this browser. The next time
                you visit this site, you won't have to do this again.
            </p>
            <p>
                We will ask you which budget and account should be used when you import a CSV file. When you cancel the
                popup(s), you will have the option to download the CSV file.
                <!--                We will try to remember the account you have chosen, the next time you use the website.-->
            </p>
            <p>
                Please note that only 100 calls can be made to the YNAB server every hour for every unique PAT.
            </p>
        </div>
    </div>
</div>

<footer>
    <div class="center">
        Find the source on <a href="https://github.com/DanielsWrath/YNABGoingDutch">Github</a><br>
        <div class="small">
            Created by <a href="https://www.danielhaitink.nl">Daniël Haitink</a> <a href="https://lionsdensoftware.nl">Lions
            Den Software</a>
        </div>
    </div>
</footer>

<script async src="https://unpkg.com/ynab@latest/dist/browser/ynab.js"></script>
<script async src="js/notie/notie.min.js"></script>
<script src="js/dropArea.js"></script>
<script async src="js/CSVGood.js"></script>
<script async src="js/accountData.js"></script>
<script async src="js/bankMap.js"></script>
<script async src="js/bankMapper.js"></script>
<script async src="js/settingsStorage.js"></script>
<script async src="js/ynabConnect/ynabSettings.js"></script>
<script async src="js/ynabConnect/ynabConnect.js"></script>
<script src="js/selectionPopup.js"></script>
<script src="js/questionPopup.js"></script>
<script async src="js/convert.js"></script>
<script async src="js/app.js"></script>

</body>
</html>
